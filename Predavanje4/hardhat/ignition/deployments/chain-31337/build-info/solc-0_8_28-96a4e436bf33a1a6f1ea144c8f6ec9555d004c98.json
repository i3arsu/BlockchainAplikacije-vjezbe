{
  "_format": "hh3-sol-build-info-1",
  "id": "solc-0_8_28-96a4e436bf33a1a6f1ea144c8f6ec9555d004c98",
  "solcVersion": "0.8.28",
  "solcLongVersion": "0.8.28+commit.7893614a",
  "userSourceNameMap": {
    "contracts/CrowdFund.sol": "project/contracts/CrowdFund.sol"
  },
  "input": {
    "language": "Solidity",
    "settings": {
      "evmVersion": "cancun",
      "optimizer": {
        "enabled": true,
        "runs": 200
      },
      "outputSelection": {
        "*": {
          "": [
            "ast"
          ],
          "*": [
            "abi",
            "evm.bytecode",
            "evm.deployedBytecode",
            "evm.methodIdentifiers",
            "metadata"
          ]
        }
      },
      "remappings": []
    },
    "sources": {
      "project/contracts/CrowdFund.sol": {
        "content": "// SPDX-License-Identifier: UNLICENSED\n\npragma solidity ^0.8.28;\n\ncontract CrowdFund {\n    address public owner;\n    uint public goal;\n    uint public deadline;\n    uint public totalRaised;\n    bool public goalReached;\n    bool public fundsWithdrawn;\n\n    struct Donor {\n        address donor;\n        uint amount;\n    }\n\n    mapping(address => uint) public contributions;\n    Donor[] public donors;\n\n    event DonationReceived(address indexed donor, uint amount);\n    event GoalReached(uint totalAmount);\n    event FundsWithdrawn(address owner, uint amount);\n    event RefundIssued(address donor, uint amount);\n\n    modifier onlyOwner() {\n        require(msg.sender == owner, \"Not the owner\");\n        _;\n    }\n\n    modifier campaignActive() {\n        require(block.timestamp < deadline, \"Campaign still active\");\n        _;\n    }\n\n    modifier campaignEnded() {\n        require(block.timestamp >= deadline, \"Campaign ended\");\n        _;\n    }\n\n    constructor(uint _goal, uint _durationMinutes) {\n        owner = msg.sender;\n        goal = _goal * 1 ether;\n        deadline = block.timestamp + (_durationMinutes * 1 minutes);\n    }\n\n    function donate() public payable campaignActive {\n        require(msg.value > 0, \"No ether sent\");\n        contributions[msg.sender] += msg.value;\n        donors.push(Donor(msg.sender, msg.value));\n        totalRaised += msg.value;\n\n        emit DonationReceived(msg.sender, msg.value);\n\n        if (totalRaised >= goal && !goalReached) {\n            goalReached = true;\n            emit GoalReached(totalRaised);\n        }\n    }\n\n    function withdrawFunds() public campaignEnded onlyOwner {\n        require(goalReached, \"Goal not reached\");\n        require(!fundsWithdrawn, \"Already withdrawn\");\n        fundsWithdrawn = true;\n\n        uint amount = address(this).balance;\n        payable(owner).transfer(amount);\n        emit FundsWithdrawn(owner, amount);\n    }\n\n    function refund() public campaignEnded {\n        require(!goalReached, \"Goal was reached\");\n        uint contributed = contributions[msg.sender];\n        require(contributed > 0, \"No contribution\");\n\n        contributions[msg.sender] = 0;\n        payable(msg.sender).transfer(contributed);\n        emit RefundIssued(msg.sender, contributed);\n    }\n\n    function getDonors() public view returns (Donor[] memory) {\n        return donors;\n    }\n\n    function getTimeLeft() public view returns (uint) {\n        if (block.timestamp >= deadline) return 0;\n        return deadline - block.timestamp;\n    }\n\n    function getBalance() public view returns (uint) {\n        return address(this).balance;\n    }\n}"
      }
    }
  }
}